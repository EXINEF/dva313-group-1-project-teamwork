{% extends 'core/base-template.html' %}

{% block content %}


<div class="container">
    <h1>Fleet Manager Home Page</h1>

    <h3>My Vehicles</h3>
    
    <table class="table table-dark table-striped">
    <thead>
        <tr>
        <th scope="col">ID</th>
        <th scope="col">Model</th>
        <th scope="col">Sensor 1</th>
        <th scope="col">Sensor 2</th>
        <th scope="col">Sensor 3</th>
        <th scope="col">Sensor 4</th>
        </tr>
    </thead>
    <tbody>
        {% for vehicle in vehicles %}
            <tr>
            <th scope="row"><a href="{% url 'vehicle' vehicle.id%}">{{vehicle.id}}</a></th>
            <td>{{vehicle.model}}</td>

            {% for tire in vehicle.tires.all %}
                {% if tire is None %}
                    <td>MISSING TIRE</td>
                {% elif tire.sensor is None %}
                    <td>MISSING SENSOR</td>
                {% else %}
                    <td>{{tire.sensor.status}}</td>
                {% endif %}                
            {% endfor %}
            
            </tr>
        {% endfor %}
        
    </tbody>
    </table>
    
</div>




{% endblock content %}




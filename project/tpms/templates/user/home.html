{% extends 'core/base-template.html' %}
{% block content %}
<div class="container-fluid px-4" >
<head>
   <meta charset="utf-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
   <meta name="description" content="" />
   <meta name="author" content="" />
   <title>Volvo TPMS</title>
   <link href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css" rel="stylesheet" />
   <link href="css/styles.css" rel="stylesheet" />
   <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js" crossorigin="anonymous"></script>
<!--Info of Overview--> 
   <div class="card-sm">
        <div class="card-body">
            <div style="text-align: right;">
                <button class="btn btn-light" onclick="location.href='add-vehicle'"><i class="fas fa-plus"></i> Add new Vehicle</button>
                <button class="btn btn-light" onclick="location.href='add-tire'"><i class="fas fa-plus"></i> Add newTire</button>
                <button class="btn btn-light" onclick="location.href='add-sensor'"><i class="fas fa-plus"></i> Add newSensor</button>
            </div>
            <h1 class="text-white">Fleet Manager Overview</h1>
            <h3 class="text-white">Company: {{fleet_manager.company}}</h3>
            <div class="row">
                <div class="col-sm">
                    <h4 class="text-white">Vehicles: {{vehicles.count}}</h4>
                </div>
                <div class="col-sm">
                    <h4 class="text-white">Tires: {{tires_num}}</h4>
                </div>
                <div class="col-sm">
                    <h4 class="text-white">Sensors: {{sensor_num}}</h4>
                </div>
            </div>
        </div>
    </div>
</head>

<body class="bg-dark">
<!--Warning Cards-->
    <div class="row">
        <div class="col-xl-4 col-md-4">
            <div class="card bg-warning text-white mb-4">
                <div class="card-body">Warning Card</div>
                <div class="card-footer d-flex align-items-center justify-content-between">
                     <a class="small text-white stretched-link collapsed" data-bs-toggle="collapse" href="#collapse1" aria-expanded="false" aria-controls="collapse1">View Details</a>
                    <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                </div>
                <div class="collapse" id="collapse1" style>
                    <div class="card card-body bg-warning">
                        {% for vehicle in vehicles%}
                        <a href="{% url 'vehicle' vehicle.id %}">{{vehicle.id}}</a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
  
        <div class="col-xl-4 col-md-4">
            <div class="card bg-danger text-white mb-4">
                <div class="card-body">Danger Card</div>
                <div class="card-footer d-flex align-items-center justify-content-between">
                    <a class="small text-white stretched-link collapsed" data-bs-toggle="collapse" href="#collapse2" aria-expanded="false" aria-controls="collapse2">View Details</a>
                    <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                </div>
                <div class="collapse" id="collapse2" style>
                    <div class="card card-body bg-danger">
                        {% for vehicle in vehicles%}
                        <a href="{% url 'vehicle' vehicle.id %}">{{vehicle.id}}</a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-4 col-md-4">
            <div class="card bg-info text-white mb-4">
                <div class="card-body">Inventory</div>
                <div class="card-footer d-flex align-items-center justify-content-between">
                    <a class="small text-white stretched-link collapsed" data-bs-toggle="collapse" href="#collapse3" aria-expanded="false" aria-controls="collapse3">View Details</a>
                    <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                </div>
                <div class="collapse" id="collapse3" style>
                    <div class="card card-body bg-info">
                        {% for vehicle in vehicles%}
                        <a class="collapse-item" href="{% url 'vehicle' vehicle.id %}">{{vehicle.id}}</a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
<!--Warning Cards Ends-->

<!--Table-->   
    <div class="card mb-4">
        <div class="card-header">
            <h2>My Vehicles</h2>
        </div>
        <table class="table table table" id="sortTable">
            <thread>
                <tr>
                    <th scope="col">Vehicle (ID)</th>
                    <th scope="col">Type</th>
                    <th scope="col"><i class="fas fa-wrench"></i> Edit</th>
                    <th scope="col"><i class="fas fa-trash-alt"></i> Delete</th>
                </tr>
            </thread>
            <tbody>
                <tr>
                    {% for vehicle in vehicles %}
                    <tr>
                    <th scope="row"><a href="{% url 'vehicle' vehicle.id%}" style="color: black;">{{vehicle.id}}</a></th>
                    <td>{{vehicle.getType}}</td>
                    <td><a href="{% url 'edit-vehicle' vehicle.id %}"><i class="fas fa-wrench" style="color: black;"></i></a></td>
                    <td><a href="{% url 'delete-vehicle' vehicle.id %}"><i class="fas fa-trash-alt"style="color:black"></i></a></td>
                    </tr>
                    {% endfor %}
                </tr>
            </tbody>
        </table>
<!--Table Ends-->
    </div>
</body>
</div>
{% endblock content %}